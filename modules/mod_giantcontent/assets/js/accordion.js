!function(i){var t=function(t,n){this.$elem=i(t);var a=this.$elem.data("options")?this.$elem.data("options"):{},e=this.$elem.data()?this.$elem.data():{},o=this,d={pauseOnHover:0,actOnHover:0,autoPlay:0,interval:5e3,continuous:1,startSlide:1,duration:500,animation:"swing",autoScaleImages:0,minContainerWidth:300,maxContainerWidth:1200,dynamicHeight:0,onActivate:null,onSlideOpen:null,onSlideClose:null,onLoad:null},s=i.extend({},d,n,a,e),c=t.children("li"),r=c.children(":first-child"),l=c.children(":first-child").next(),h=0,u=s.startSlide-1,g=t.attr("id"),f="",v=0,p=0,m=t.find(">li").size(),y=0,C=0,w=null,S=!1,b=!1,x={play:function(i){var t=W.nextSlide(i&&i);W.playing||(W.playing=setInterval(function(){r.eq(t()).trigger("auto.gts-accordion"),0==s.continuous&&h==u},s.interval))},stop:function(){clearInterval(W.playing),W.playing=0,i(".gts-accordion-stop").addClass("disabled"),i(".gts-accordion-play").removeClass("disabled")},current:function(){return h},totalslides:function(){return m}},W={setStyles:function(){S="auto"==t[0].style.width,b="auto"==t[0].style.height,t.addClass("gts-accordion"),t.hasClass("vertical")?f="vertical":(f="horizontal",t.addClass("horizontal")),h=u,t.find(">li").each(function(t){var n=i(this).find(">div:first"),a=i(this).find(">div:last"),e=n.find(">div:first").html();i.isEmptyObject(e)||n.find(">div:first").remove(),n.wrapInner('<span class="gts-accordion-title" />').addClass("gts-accordion-spine").addClass("gts-accordion-spine-"+(t+1)),u>-1&&(t===u&&n.addClass("active"),t===u+1&&n.addClass("next")),a.wrapInner('<div class="gts-accordion-content">').addClass("gts-accordion-slide")})},setVariables:function(){var n=0,a=0;b&&t.height(t.width()/3|0),v=t.find(">li").width(),p=t.height(),t.find(".gts-accordion-spine").each(function(){n+=i(this).outerWidth(!0),a+=i(this).outerHeight(!0)}),C=t.width()-n,y=t.height()-a,t.find(">li").each(function(){var n=i(this).find(">div:first"),a=i(this).find(">div:last");if("horizontal"===f){var e=n.outerHeight(!0)-n.height(),o=a.outerHeight(!0)-a.height();n.height(p-e).find(".gts-accordion-title").width(p-e),s.dynamicHeight?(t.height("100%"),a.height("100%")):a.height(p-o),t.find(".gts-accordion-content").width(C)}if("vertical"===f){var e=n.outerWidth(!0)-n.width(),o=a.outerWidth(!0)-a.width();n.width(v-e).find(".gts-accordion-title").width(v-e),a.width(v-o),t.find(".gts-accordion-content").height(y)}})},responsive:function(){var i=t.parent().width();S&&(i>s.minContainerWidth?t.width(i<s.maxContainerWidth?i:s.maxContainerWidth):i<s.maxContainerWidth&&t.width(i>s.minContainerWidth?i:s.minContainerWidth),W.setVariables(),r.eq(h).trigger("click.gts-accordion"))},autoScaleImages:function(){l.children("div.gts-accordion-content").each(function(){var t=i(this),n=t.find("img");n.length&&(t.css({marginLeft:"0",marginRight:"0",marginTop:"0",marginBottom:"0"}),n.each(function(t,n){i(n).width("100%"),i(n).height("100%")}))})},bindEvents:function(){var n=0;s.actOnHover?t.find(".gts-accordion-spine").not("active").bind("click.gts-accordion mouseover.gts-accordion auto.gts-accordion",W.animateSlide):t.find(".gts-accordion-spine").not("active").bind("click.gts-accordion auto.gts-accordion",W.animateSlide),s.pauseOnHover&&s.autoPlay&&t.bind("mouseover.gts-accordion",function(){W.playing&&x.stop()}).bind("mouseout.gts-accordion",function(){!W.playing&&x.play(h)}),i(window).bind("resize.gts-accordion orientationchange.gts-accordion",function(){clearTimeout(n),n=setTimeout(function(){W.responsive()},100)})},nextSlide:function(i){var t=i+1||h+1;return function(){return t++%m}},playing:0,animateSlide:function(n){var a=i(this),e=t.parent().find("#"+g+">li:eq("+h+")> div.gts-accordion-slide").removeClass("active");"function"==typeof s.onSlideClose&&s.onSlideClose(x,e),"vertical"===f?e.stop(!0).animate({height:0},s.duration,s.animation):e.stop(!0).animate({width:0},s.duration,s.animation),t.parent().find("#"+g+">li:eq("+h+")> div.gts-accordion-spine").removeClass("active"),t.parent().find("#"+g+">li:eq("+(h+1)+")> div.gts-accordion-spine").removeClass("next"),a.addClass("active"),h=r.index(a),a=t.parent().find("#"+g+">li:eq("+h+")> div.gts-accordion-slide").addClass("active"),"function"==typeof s.onActivate&"auto"!=n.type&&s.onActivate(x,a),t.parent().find("#"+g+">li:eq("+(h+1)+")> div.gts-accordion-spine").addClass("next"),"vertical"===f?a.stop(!0).animate({height:y},s.duration,s.animation):a.stop(!0).animate({width:C},s.duration,s.animation),"function"==typeof s.onSlideOpen&&s.onSlideOpen(x,a)},init:function(){function i(){this.value=null}W.setStyles(),S?W.responsive():W.setVariables(),s.autoScaleImages&&W.autoScaleImages(),W.bindEvents(),w=new i,w.paused=!1,u>-1&&t.find(".gts-accordion-spine:eq("+u+")").trigger("click.gts-accordion"),s.interval<s.duration&&(s.interval=s.duration),"function"==typeof s.onLoad&&s.onLoad(o),s.autoPlay&&x.play()}};return W.init(),x};i.fn.accordion=function(i,n){var a=this,e=a.data("gts-accordion");return"object"!=typeof i&&i?"string"==typeof i&&e[i]?"current"===i||"totalslides"===i?e[i].call(a):(e[i].call(a,n),a):void 0:a.each(function(){var n;e||(n=new t(a,i),a.data("gts-accordion",n))})}}(jQuery);